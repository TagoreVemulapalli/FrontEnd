{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nfunction UserCreateComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"Username is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserCreateComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Username already exists. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserCreateComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"First Name is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserCreateComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"Last Name is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserCreateComponent_div_34_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"Email is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserCreateComponent_div_34_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"Please enter a valid email address.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserCreateComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserCreateComponent_div_34_div_1_Template, 3, 0, \"div\", 7);\n    i0.ɵɵtemplate(2, UserCreateComponent_div_34_div_2_Template, 3, 0, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = ctx_r4.userForm.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]) && (((tmp_0_0 = ctx_r4.userForm.get(\"email\")) == null ? null : tmp_0_0.dirty) || ((tmp_0_0 = ctx_r4.userForm.get(\"email\")) == null ? null : tmp_0_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.userForm.get(\"email\").errors == null ? null : ctx_r4.userForm.get(\"email\").errors[\"pattern\"]);\n  }\n}\nfunction UserCreateComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 25);\n    i0.ɵɵtext(2, \"User Status is required.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class UserCreateComponent {\n  constructor(userService, router, formBuilder) {\n    this.userService = userService;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.usernameExistsError = false;\n    this.user = {\n      user_name: '',\n      first_name: '',\n      last_name: '',\n      email: '',\n      user_status: '',\n      department: '',\n      user_id: 0\n    };\n  }\n  ngOnInit() {\n    this.userForm = this.formBuilder.group({\n      user_name: ['', Validators.required],\n      first_name: ['', Validators.required],\n      last_name: ['', Validators.required],\n      email: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}')]],\n      user_status: ['', Validators.required],\n      department: ['']\n    });\n  }\n  createUser() {\n    if (this.userForm.invalid) {\n      this.markFormGroupTouched(this.userForm);\n      return;\n    }\n    const username = this.userForm.value.user_name;\n    this.userService.checkUsernameExists(username).subscribe(exists => {\n      if (exists) {\n        this.usernameExistsError = true;\n        alert('UserName already Exists!');\n      } else {\n        const userData = {\n          user_name: this.userForm.value.user_name,\n          first_name: this.userForm.value.first_name,\n          last_name: this.userForm.value.last_name,\n          email: this.userForm.value.email,\n          user_status: this.userForm.value.user_status,\n          department: this.userForm.value.department\n        };\n        this.userService.createUser(userData).subscribe(() => {\n          alert('User created successfully!');\n          this.router.navigate(['/users']);\n        });\n      }\n    });\n  }\n  markFormGroupTouched(formGroup) {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n      if (control.controls) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function UserCreateComponent_Factory(t) {\n    return new (t || UserCreateComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserCreateComponent,\n    selectors: [[\"app-user-create\"]],\n    decls: 57,\n    vars: 7,\n    consts: [[1, \"container\"], [1, \"create-user-card\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"user_name\"], [1, \"mandatory\"], [\"type\", \"text\", \"id\", \"user_name\", \"formControlName\", \"user_name\", \"required\", \"\", 1, \"form-control\"], [4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"first_name\"], [\"type\", \"text\", \"id\", \"first_name\", \"formControlName\", \"first_name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"last_name\"], [\"type\", \"text\", \"id\", \"last_name\", \"formControlName\", \"last_name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"user_status\"], [\"placeholder\", \"UserStatus\", \"formControlName\", \"user_status\", \"required\", \"\", 1, \"form-control\"], [\"value\", \"\"], [\"value\", \"I\"], [\"value\", \"A\"], [\"value\", \"T\"], [\"for\", \"department\"], [\"type\", \"text\", \"id\", \"department\", \"formControlName\", \"department\", 1, \"form-control\"], [1, \"form-group\", \"text-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-create\"], [1, \"error-message\"]],\n    template: function UserCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"mat-card-title\");\n        i0.ɵɵtext(3, \"Create User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function UserCreateComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.createUser();\n        });\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"label\", 4);\n        i0.ɵɵtext(8, \"User Name\");\n        i0.ɵɵelementStart(9, \"span\", 5);\n        i0.ɵɵtext(10, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵtemplate(12, UserCreateComponent_div_12_Template, 3, 0, \"div\", 7);\n        i0.ɵɵtemplate(13, UserCreateComponent_div_13_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 3)(15, \"label\", 9);\n        i0.ɵɵtext(16, \"First Name\");\n        i0.ɵɵelementStart(17, \"span\", 5);\n        i0.ɵɵtext(18, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(19, \"input\", 10);\n        i0.ɵɵtemplate(20, UserCreateComponent_div_20_Template, 3, 0, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3)(22, \"label\", 11);\n        i0.ɵɵtext(23, \"Last Name\");\n        i0.ɵɵelementStart(24, \"span\", 5);\n        i0.ɵɵtext(25, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(26, \"input\", 12);\n        i0.ɵɵtemplate(27, UserCreateComponent_div_27_Template, 3, 0, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 3)(29, \"label\", 13);\n        i0.ɵɵtext(30, \"Email\");\n        i0.ɵɵelementStart(31, \"span\", 5);\n        i0.ɵɵtext(32, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(33, \"input\", 14);\n        i0.ɵɵtemplate(34, UserCreateComponent_div_34_Template, 3, 2, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 3)(36, \"label\", 15);\n        i0.ɵɵtext(37, \"User Status\");\n        i0.ɵɵelementStart(38, \"span\", 5);\n        i0.ɵɵtext(39, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"mat-select\", 16)(41, \"mat-option\", 17);\n        i0.ɵɵtext(42, \"Select Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"mat-option\", 18);\n        i0.ɵɵtext(44, \"Inactive\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"mat-option\", 19);\n        i0.ɵɵtext(46, \"Active\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"mat-option\", 20);\n        i0.ɵɵtext(48, \"Terminated\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(49, UserCreateComponent_div_49_Template, 3, 0, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 3)(51, \"label\", 21);\n        i0.ɵɵtext(52, \"Department\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"input\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 23)(55, \"button\", 24);\n        i0.ɵɵtext(56, \"Create\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_3_0;\n        let tmp_4_0;\n        let tmp_6_0;\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.userForm.get(\"user_name\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) && (((tmp_1_0 = ctx.userForm.get(\"user_name\")) == null ? null : tmp_1_0.dirty) || ((tmp_1_0 = ctx.userForm.get(\"user_name\")) == null ? null : tmp_1_0.touched)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.usernameExistsError);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.userForm.get(\"first_name\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"required\"]) && (((tmp_3_0 = ctx.userForm.get(\"first_name\")) == null ? null : tmp_3_0.dirty) || ((tmp_3_0 = ctx.userForm.get(\"first_name\")) == null ? null : tmp_3_0.touched)));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.userForm.get(\"last_name\")) == null ? null : tmp_4_0.errors == null ? null : tmp_4_0.errors[\"required\"]) && (((tmp_4_0 = ctx.userForm.get(\"last_name\")) == null ? null : tmp_4_0.dirty) || ((tmp_4_0 = ctx.userForm.get(\"last_name\")) == null ? null : tmp_4_0.touched)));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.userForm.get(\"email\").errors == null ? null : ctx.userForm.get(\"email\").errors[\"required\"]);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.userForm.get(\"user_status\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors[\"required\"]) && (((tmp_6_0 = ctx.userForm.get(\"user_status\")) == null ? null : tmp_6_0.dirty) || ((tmp_6_0 = ctx.userForm.get(\"user_status\")) == null ? null : tmp_6_0.touched)));\n      }\n    },\n    dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName, i5.MatCard, i5.MatCardContent, i5.MatCardTitle, i6.MatSelect, i7.MatOption],\n    styles: [\".create-user-card[_ngcontent-%COMP%] {\\n    width: 400px;\\n    margin: 50px auto;\\n    padding: 20px;\\n    border-radius: 10px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    background: rgba(255, 255, 255, 0.2);\\n  }\\n  \\n  .user-form[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n  \\n  .mandatory[_ngcontent-%COMP%] {\\n    color: red;\\n    margin-left: 5px;\\n  }\\n  \\n  .form-control[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    margin-top: 5px;\\n    border-radius: 5px;\\n    border: 1px solid rgb(255, 0, 0);\\n  }\\n  \\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    margin-top: 5px;\\n  }\\n  \\n  .form-group-button[_ngcontent-%COMP%] {\\n    text-align: center;\\n  }\\n\\n.text-center[_ngcontent-%COMP%] {\\n    text-align: center;\\n  }\\n  \\n  .btn-create[_ngcontent-%COMP%] {\\n    background-color: #4CAF50;\\n    color: white;\\n    border: none; \\n    padding: 10px 20px;\\n    text-align: center;\\n    text-decoration: none;\\n    display: inline-block;\\n    font-size: 16px;\\n    margin-top: 10px;\\n    cursor: pointer;\\n    border-radius: 5px;\\n    transition-duration: 0.4s;\\n  }\\n  \\n  .btn-create[_ngcontent-%COMP%]:hover {\\n    background-color: #45a049; \\n  }\\n  \\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci1jcmVhdGUvdXNlci1jcmVhdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix3Q0FBd0M7SUFDeEMsb0NBQW9DO0VBQ3RDOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsVUFBVTtJQUNWLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxhQUFhO0lBQ2IsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixnQ0FBZ0M7RUFDbEM7O0VBRUE7SUFDRSxVQUFVO0lBQ1YsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQjs7QUFFRjtJQUNJLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLmNyZWF0ZS11c2VyLWNhcmQge1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBtYXJnaW46IDUwcHggYXV0bztcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgXG4gIC51c2VyLWZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuICBcbiAgLmZvcm0tZ3JvdXAge1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIH1cbiAgXG4gIC5mb3JtLWdyb3VwIGxhYmVsIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG4gIFxuICAubWFuZGF0b3J5IHtcbiAgICBjb2xvcjogcmVkO1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIH1cbiAgXG4gIC5mb3JtLWNvbnRyb2wge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjU1LCAwLCAwKTtcbiAgfVxuICBcbiAgLmVycm9yLW1lc3NhZ2Uge1xuICAgIGNvbG9yOiByZWQ7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICB9XG4gIFxuICAuZm9ybS1ncm91cC1idXR0b24ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4udGV4dC1jZW50ZXIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICBcbiAgLmJ0bi1jcmVhdGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTsgXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC40cztcbiAgfVxuICBcbiAgLmJ0bi1jcmVhdGU6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7IFxuICB9XG4gIFxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","UserCreateComponent_div_34_div_1_Template","UserCreateComponent_div_34_div_2_Template","ɵɵadvance","ɵɵproperty","tmp_0_0","ctx_r4","userForm","get","errors","dirty","touched","UserCreateComponent","constructor","userService","router","formBuilder","usernameExistsError","user","user_name","first_name","last_name","email","user_status","department","user_id","ngOnInit","group","required","pattern","createUser","invalid","markFormGroupTouched","username","value","checkUsernameExists","subscribe","exists","alert","userData","navigate","formGroup","Object","values","controls","forEach","control","markAsTouched","_","ɵɵdirectiveInject","i1","UserService","i2","Router","i3","FormBuilder","_2","selectors","decls","vars","consts","template","UserCreateComponent_Template","rf","ctx","ɵɵlistener","UserCreateComponent_Template_form_ngSubmit_5_listener","ɵɵelement","UserCreateComponent_div_12_Template","UserCreateComponent_div_13_Template","UserCreateComponent_div_20_Template","UserCreateComponent_div_27_Template","UserCreateComponent_div_34_Template","UserCreateComponent_div_49_Template","tmp_1_0","tmp_3_0","tmp_4_0","tmp_6_0"],"sources":["/Users/tagore/user_management/frontend/src/app/user-create/user-create.component.ts","/Users/tagore/user_management/frontend/src/app/user-create/user-create.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from '../user.service';\nimport { User } from '../models/user';\n\n@Component({\n  selector: 'app-user-create',\n  templateUrl: './user-create.component.html',\n  styleUrls: ['./user-create.component.css']\n})\nexport class UserCreateComponent implements OnInit {\n  userForm!: FormGroup;\n  usernameExistsError: boolean = false;\n\n  user: User = {\n    user_name: '',\n    first_name: '',\n    last_name: '',\n    email: '',\n    user_status: '',\n    department: '',\n    user_id: 0,\n  };\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private formBuilder: FormBuilder\n  ) {}\n\n  ngOnInit(): void  {\n    this.userForm = this.formBuilder.group({\n      user_name: ['', Validators.required],\n      first_name: ['', Validators.required],\n      last_name: ['', Validators.required],\n      email: ['', [\n        Validators.required,\n        Validators.pattern('[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}')\n      ]],\n      user_status: ['', Validators.required],\n      department: ['']\n    });\n  }\n\n  createUser(): void {\n    if (this.userForm.invalid) {\n      this.markFormGroupTouched(this.userForm);\n      return;\n    }\n\n    const username = this.userForm.value.user_name;\n\n    this.userService.checkUsernameExists(username).subscribe(exists => {\n      if (exists) {\n        this.usernameExistsError = true;\n        alert('UserName already Exists!');\n      } else {\n        const userData = {\n          user_name: this.userForm.value.user_name,\n          first_name: this.userForm.value.first_name,\n          last_name: this.userForm.value.last_name,\n          email: this.userForm.value.email,\n          user_status: this.userForm.value.user_status,\n          department: this.userForm.value.department\n        };\n\n        this.userService.createUser(userData).subscribe(() => {\n          alert('User created successfully!');\n          this.router.navigate(['/users']);\n        });\n      }\n    });\n  }\n\n  private markFormGroupTouched(formGroup: FormGroup) {\n    (Object as any).values(formGroup.controls).forEach((control: FormGroup<any>) => {\n      control.markAsTouched();\n\n      if (control.controls) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n}\n","<div class=\"container\">\n  <mat-card class=\"create-user-card\">\n    <mat-card-title>Create User</mat-card-title>\n    <mat-card-content>\n      <form (ngSubmit)=\"createUser()\" [formGroup]=\"userForm\">\n        <div class=\"form-group\">\n          <label for=\"user_name\">User Name<span class=\"mandatory\">*</span></label>            \n          <input type=\"text\" class=\"form-control\" id=\"user_name\" formControlName=\"user_name\" required />\n          <div *ngIf=\"userForm.get('user_name')?.errors?.['required'] && (userForm.get('user_name')?.dirty || userForm.get('user_name')?.touched)\">\n            <div class=\"error-message\">Username is required.</div>\n          </div>\n          <div *ngIf=\"usernameExistsError\" class=\"error-message\">\n            Username already exists.\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"first_name\">First Name<span class=\"mandatory\">*</span></label>\n          <input type=\"text\" class=\"form-control\" id=\"first_name\" formControlName=\"first_name\" required />\n          <div *ngIf=\"userForm.get('first_name')?.errors?.['required'] && (userForm.get('first_name')?.dirty || userForm.get('first_name')?.touched)\">\n            <div class=\"error-message\">First Name is required.</div>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"last_name\">Last Name<span class=\"mandatory\">*</span></label>\n          <input type=\"text\" class=\"form-control\" id=\"last_name\" formControlName=\"last_name\" required />\n          <div *ngIf=\"userForm.get('last_name')?.errors?.['required'] && (userForm.get('last_name')?.dirty || userForm.get('last_name')?.touched)\">\n            <div class=\"error-message\">Last Name is required.</div>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email<span class=\"mandatory\">*</span></label>\n          <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" formControlName=\"email\" required/>\n          <div *ngIf=\"userForm.get('email')!.errors?.['required']\">\n            <div *ngIf=\"userForm.get('email')?.errors?.['required'] && (userForm.get('email')?.dirty || userForm.get('email')?.touched)\">\n              <div class=\"error-message\">Email is required.</div></div>\n          <div *ngIf=\"userForm.get('email')!.errors?.['pattern']\"><div class=\"error-message\">Please enter a valid email address.</div></div></div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"user_status\">User Status<span class=\"mandatory\">*</span></label>\n          <mat-select class=\"form-control\" placeholder=\"UserStatus\" formControlName=\"user_status\" required>\n            <mat-option value=\"\">Select Status</mat-option>\n            <mat-option value=\"I\">Inactive</mat-option>\n            <mat-option value=\"A\">Active</mat-option>\n            <mat-option value=\"T\">Terminated</mat-option>\n          </mat-select>\n          <div *ngIf=\"userForm.get('user_status')?.errors?.['required'] && (userForm.get('user_status')?.dirty || userForm.get('user_status')?.touched)\">\n            <div class=\"error-message\">User Status is required.</div>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"department\">Department</label>\n          <input type=\"text\" class=\"form-control\" id=\"department\" formControlName=\"department\" />\n        </div>\n        <div class=\"form-group text-center\">\n          <button type=\"submit\" class=\"btn btn-primary btn-create\">Create</button>\n        </div>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}